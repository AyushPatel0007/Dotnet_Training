@model IEnumerable<Shopping_Website_UI.Models.CartDetails>

@{
    ViewBag.Title = "ProductPayment";
    Layout = "~/Views/Shared/_Buyer.cshtml";
}




<div class="row">

    <div class="col-md-6" style="height:450px">
        <h2>ProductPayment</h2>

        <table class="table">
            <tr>

                <th>
                    @Html.DisplayNameFor(model => model.Quantity)
                </th>

                <th>
                    @Html.DisplayNameFor(model => model.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Price)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Discount)
                </th>

                <th>
                    @Html.DisplayNameFor(model => model.Size)
                </th>
            </tr>
            @{
                decimal i = 0, k = 0, sum = 0;

            }
            @foreach (var item in Model)
            {
                k = Convert.ToDecimal(@item.Price * @item.Quantity);
                i = Convert.ToDecimal(k * @item.Discount/100);


                sum += k - i;
               
                <tr>

                    <td>
                        @Html.DisplayFor(modelItem => item.Quantity)
                    </td>

                    <td>
                        @Html.DisplayFor(modelItem => item.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Price)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Discount)%
                    </td>

                    <td>
                        @Html.DisplayFor(modelItem => item.Size)
                    </td>

                </tr>

            }

        </table>
        <div class="row">
            <div class="col-md-4 offset-md-8">
                <p> Payment - <b> @sum</b></p>
            </div>
        </div>


    </div>
    <div class="col-md-6">
        <h5>Enter Address</h5>
        <p>
            <a class="btn btn-light" data-bs-toggle="collapse" href="#multiCollapseExample3" role="button" aria-expanded="false" aria-controls="multiCollapseExample1">Add Address to deliver</a>        <span id="addresstxt"></span>

        </p>
        <div class="col">
            <div class="collapse multi-collapse"
                 id="multiCollapseExample3"
                 data-bs-parent="#abc">
                <div class="card card-body" >
                    <form method="post">
                        <div class="mb-3">
                            <label for="exampleInputEmail1" class="form-label">Name</label>
                            <input type="text" class="form-control" id="PaymentName" aria-describedby="emailHelp" name="Name" placeholder="Name">
                        </div>

                        <div class="mb-3">
                            <label for="exampleInputEmail1" class="form-label">Address</label>
                            <input type="text" class="form-control" id="PaymentAddress" aria-describedby="emailHelp" name="Address" placeholder="Address">
                        </div>  <div class="mb-3">
                            <label for="exampleInputEmail1" class="form-label">Mobileno</label>
                            <input type="number" onkeypress="return event.charCode >= 48"  class="form-control" id="PaymentMobileno" aria-describedby="emailHelp" name="Mobileno"placeholder="Contact Number" >
                        </div>


                     </form>

                </div>
            </div>
            
            </div>
            <h5>Pay Now</h5>
            <div id="abc">
                <p>
                    <a class="btn btn-light"
                       data-bs-toggle="collapse"
                       href="#multiCollapseExample1"
                       role="button"
                       aria-expanded="false"
                       aria-controls="multiCollapseExample1">Cash On Delivery</a>
                    <button class="btn btn-light"
                            type="button"
                            data-bs-toggle="collapse"
                            data-bs-target="#multiCollapseExample2"
                            aria-expanded="false"
                            aria-controls="multiCollapseExample2">
                        Card Payment
                    </button> <span id="cardtxt"></span>
                </p>
                <div class="row">
                    <div class="col">
                        <div class="collapse multi-collapse"
                             id="multiCollapseExample1"
                             data-bs-parent="#abc">
                            <div class="card card-body">
                                <form   method="post">
                                    
                                  

                                    <button type="button" class="btn btn-light" onclick="makepayment(1)">Pay</button>
                                </form>
                            </div>
                        </div>

                        <div class="collapse multi-collapse"
                             id="multiCollapseExample2"
                             data-bs-parent="#abc">
                            <div class="card card-body">
                                <form   method="post">
                                    <div class="mb-3">
                                        <label for="exampleInputEmail1" class="form-label">Card Number</label>
                                        <input type="text" onkeypress="return event.charCode >= 48" min="1" class="form-control" id="Cardno" aria-describedby="emailHelp" name="Card Number" placeholder="16 Digit Card">
                                    </div>
                                    <div class="mb-3">
                                        <label for="exampleInputPassword1" class="form-label">CVV</label>
                                        <input type="text" class="form-control" id="exampleInputPassword1" name="CCv">
                                        <a href="#" style="color:#76b713;">Send OTP</a>
                                    </div>

                                    <div class="mb-3">
                                        <label for="exampleInputPassword1" class="form-label">Enter OTP</label>
                                        <input type="text" class="form-control" id="exampleInputPassword1" name="Enter OTP">
                                    </div>

                                    <button type="button" class="btn btn-light" onclick="makepayment(2)">Pay</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



@*<script>




    //function alertbox() {
    //    swal({
    //        title: 'Payment Success',
    //        text: 'Well done',
    //        icon: 'success',
    //        timer: 9000,
    //        buttons: false,
    //    })

    //}
    //function alertboxerror() {
    //    swal({
    //        title: 'Payment Success',
    //        text: 'Well done',
    //        icon: 'success',
    //        timer: 4000,
    //        buttons: false,
    //    })

    //}

  
    //$(document).ready(function () {
         
    //    $('#filterPayment').change(function () {
    //        $('#collapseAcct').collapse('show');
    //    })
    //})
</script>*@
